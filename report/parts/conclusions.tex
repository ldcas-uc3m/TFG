\chapter{Conclusions and Future Work}\label{chap:conclusions}
This chapter presents both the conclusions of the project \secref{project-conclusions}, and personal conclusions \secref{personal-conclusions}. It also highlights some of the contributions that were made during this project that are not directly related to it \secref{contributions}, and discusses what future work could be done to the project \secref{future-work}.


\section{Project Conclusions}\label{sec:project-conclusions}
This document has described the analysis, design, and implementation of a generic and didactic \gls{assembly} simulator. This project presents a simple, open-source, and intuitive simulator, focused on providing the user an intuitive knowledge of \gls{ISA} design and \gls{assembly} programming.

% product conclusions
As stated in \secref{objectives}, the main objective in this project was to create a simulator that, unlike existing ones, allows the user to define its own \glspl{ISA}, defining instructions through a simple and easy to understand language, and execute any \glsdisp{assembly}{assembly} program.

\noindent
All secondary objectives were also fulfilled:
\begin{itemize}
  \item \textbf{O1}: The software simulates a simple and generic computer, with \glspl{register}, \gls{memory}, and a processor that executes LUISP-DA, a simple domain specific language.
  \item \textbf{O2}: LUISP-DA is a simple \gls{programming language} that allows to program all the components of the simulated computer.
  \item \textbf{O3}: The simulator allows the user to view the state of the computer of the at each \gls{clock cycle}.
  \item \textbf{O4}: The user can execute any \gls{assembly} program in the defined \gls{ISA}.
  \item \textbf{O5}: The software can be executed natively in many platforms.
\end{itemize}

% process conclusions
One of the main obstacles encountered while developing this project, as shown on the Gantt diagram (\figref{gantt}), was the design and implementation of the \reqref{Control Unit} (LUISP-DA interpreter). As stated in \subsecref{interpreter-study}, several design options were considered and explored, until reaching the final design. This design also took considerable time, as it required a good understanding of the programming language, C++20, in order to implement. Greater knowledge and experience in the field of compilers and C++20 would have decreased greatly development time, and may have resulted in an even better end product.



\section{Personal Conclusions}\label{sec:personal-conclusions}
This project has been a great opportunity for me personally, as it has allowed not only to make use of all the knowledge I have gained throughout this degree, but also to gain more of it.

The main sources of knowledge for this project have been the \textit{Computer Structure}, \textit{Computer Architecture}, and \textit{Computer Organization} courses, which coincidentally are also amongst my favorites. These subjects taught me about how computers are made, about \glspl{ISA}, and about \gls{assembly}. Other source of knowledge would have been the \textit{Language Processors} course, focused on compilers, but unfortunately due to my academic plan, I wasn't able to attend it.
It is also worth it to mention other courses, such as \textit{Programming}, \textit{Data Structure and Algorithms}, \textit{Functional Programming}, and \textit{Automata Theory and Formal Language}, whose knowledge also helped be during this process.

A lot of knowledge gained from the implementation of the software and the writing of this document. I started this project with very little knowledge and experience on C++, and learned the language through the course of it. The same goes for CMake, and the overall organization of C++ projects. Writing this document in \LaTeX~has also offered me the chance to greatly deepen my knowledge of this tool, something that I'm sure will be useful in the future.



\section{Additional Contributions}\label{sec:contributions}
As mentioned before, this document was created and written in \LaTeX~\parencite{lamport1986latex}. Not only the source code of this report is publicly available at \myrepo, but the code was structured in such a way that it is easily reusable, through the use of a \LaTeX~class template file that contains the configuration for the formatting of the document. This template was based on the template document provided by the Universidad Carlos III de Madrid's library \parencite{UC3MthesisTemplate}, and (loosely) follows the doctoral thesis guidelines for this university \parencite{UC3MthesisStyleGuide}.

The class template, along with a template for the organization of the whole report, and documentation, was made publicly available at \url{https://github.com/ldcas-uc3m/thesis-template}, in order to provide a better and easier to use bachelor thesis template for future engineering students.

The source code for this document also makes use of a fork (modified version) of Javier López Gómez's SRS package \parencite{SRSpackage}. This package automates the process of generating tables for \gls{software engineering} tasks, such as requirements, use cases, traceability matrices, etc. This fork changes the style of the generated tables and adds several features such as support for the English language, generation of template tables, automatic captions, and hyperlinks on traceability matrices. The source code for the fork is also publicly available at \url{https://github.com/ldcas-uc3m/srs-latex}, in order to aid computer science students to perform these tasks in \LaTeX.



\section{Future Work}\label{sec:future-work}
This project provided a basic simulator, but there are several lines of work that could be explored, in order to improve the system:
\begin{itemize}
  \item As mentioned in \subsecref{language-study}, C++ allows to compile the source code to WebAssembly \parencite{HaasAndreas2017Btwu}. Further research in this topic could allow the simulator to be executed in browsers, making it even more accessible.
  \item The simulator could also offer support for more types of operations: floating point, bitwise, etc.
  \item Support for even more \gls{assembly} features could be added, such as non-aligned memory, multiple names for the same registers, and inline comments.
  \item Many other simulators implement ease-of-use features, such as breakpoints, and save states. These features and others, such as not requiring to reload the whole simulator to change the \gls{ISA}, or more formatting options for the display, would be appreciated by the users.
  \item The base system is robust enough for it to be built upon, specially as it's implemented in C++. It currently uses a \gls{CLI}, but it could also include a \gls{GUI} implemented in Qt \parencite{QtFramework}. It could also be converted into a \gls{web service}, executing on a server instead of on the client. The system could also be converted into a Python extension module \parencite{pythonExtension}, opening even more possibilities.
\end{itemize}

\noindent
Some aspects of the implementation could also be improved:
\begin{itemize}
  \item Currently, the LUISP-DA interpreter stores all of its data (tokens) in \texttt{std::string}, due to the fact that a token can hold either strings, integers, or boolean values. This forces static castings (from and to string) for any operation, which creates a great overhead. One possible solution is the use of \texttt{std::variant} \parencite{stdVariant}, a data structure that can hold many types.
  \item Instead of C-style libraries, the implementation could make use of C++20 modules \parencite{cpp20modules}\footnote{At the time of writing, this feature is not fully implemented in any of the C++ compilers.}.
  \item The C++23 ISO standard is in the approval phase, and the system could benefit from some of the new features the standard provides.
\end{itemize}